<div class="container-fluid">
  <div class="title-list mt-4">
    <h3>THÔNG TIN CHI TIẾT</h3>
  </div>
  <div class="product-detail">
    <div class="row">
      {{!-- col-md-5 d-flex align-items-center justify-content-center --}}
      <div class="col-md-5 d-flex flex-column align-items-center">
        <img src="{{novel.image}}" alt="{{novel.title}}" class="img-fluid novel-img">
        <div class="d-flex justify-content-around w-50 mt-3">
          <a href="#" style="background: #EB455F; color: white;" class="btn mx-2">Đọc tiếp</a>
          <a href="#" style="background: #EB455F; color: white;" class="btn mx-2">Đọc từ đầu</a>
        </div>
      </div>
      <div class="col-md-7 product-info">
        <div class="info">
          <h1>{{novel.title}}</h1>
          <hr>
          <p><strong>Tác giả:</strong> {{novel.author}}</p>
          <p><strong>Thể loại:</strong>
            {{#eachGenres novel.genres novel.genreUrls}}
            <a class="novel-genres" href="{{url}}">{{name}}</a>{{#if last}}{{else}}, {{/if}}
            {{/eachGenres}}
          </p>
        </div>
        <div class="description">
          <p id="novel-description">{{{convertToHtml novel.description}}}</p>
          <button id="toggle-description" style="display: none;">Xem thêm</button>
        </div>
        <div class="d-flex justify-content-between align-items-center">
          <p style="font-size: 1em;"><strong>{{book.price}}</strong></p>
        </div>
        <hr>
      </div>
    </div>
  </div>

  <div class="title-list mt-4">
    <h3>DANH SÁCH CHƯƠNG</h3>
    <hr>
    <div class="chapter-list">
      <div class="row">
        <div class="col-xs-12 col-sm-6">
          <ul>
            {{#each (splitArray novel.chapters 2 0)}}
            <li>
              <a class="text-link" href="/{{this.chapterSlug}}">{{this.chapterTitle}}</a>
            </li>
            {{/each}}
          </ul>
        </div>
        <div class="col-xs-12 col-sm-6">
          <ul>
            {{#each (splitArray novel.chapters 2 1)}}
            <li>
              <a class="text-link" href="/{{this.chapterSlug}}/">{{this.chapterTitle}}</a>
            </li>
            {{/each}}
          </ul>
        </div>
      </div>
    </div>
  </div>

  <div class="container mt-4 mb-4">
    <nav aria-label="...">
      <ul class="pagination justify-content-center">
        <li class="page-item disabled">
          <a class="page-link"><i class="fa-solid fa-angles-left"></i></a>
        </li>
        <li class="page-item"><a class="page-link" href="#">1</a></li>
        <li class="page-item active" aria-current="page">
          <a class="page-link" href="#">2</a>
        </li>
        <li class="page-item"><a class="page-link" href="#">3</a></li>
        <li class="page-item">
          <a class="page-link" href="#"><i class="fa-solid fa-angles-right"></i></a>
        </li>
      </ul>
    </nav>
  </div>
</div>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    const descriptionElement = document.getElementById('novel-description');
    const toggleButton = document.getElementById('toggle-description');
    const maxLength = 500; // Giới hạn độ dài mô tả

    if (descriptionElement.innerText.length > maxLength) {
      const originalText = descriptionElement.innerHTML;
      const truncatedText = originalText.substring(0, maxLength) + '...';

      descriptionElement.innerHTML = truncatedText;
      toggleButton.style.display = 'inline';

      toggleButton.addEventListener('click', function () {
        if (descriptionElement.innerHTML === truncatedText) {
          descriptionElement.innerHTML = originalText;
          toggleButton.innerText = 'Thu gọn';
        } else {
          descriptionElement.innerHTML = truncatedText;
          toggleButton.innerText = 'Xem thêm';
        }
      });
    }
  });
</script>